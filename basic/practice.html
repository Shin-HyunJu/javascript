<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <!-- 먼저 작성 되어야 한다. 위에서 아래로 실행되기 때문에 jquery가 먼저 로딩되어 있어야 한다. -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function basic(){
        //배열 기본
        const arr1 = ["JavaScript", "Java", "Vue"];
        arr1[0] = "spring";
        console.log(arr1.length);
        console.log("");
        for(let i=0; i<arr1.length; i++){
          console.log(arr1[i]);
        }
        for(let value of arr1){
          console.log(value);
        }
      }

      //자바스크립트의 배열은 자바의 리스트와 비슷하다.
      function appendItem(){
        const arr = [];
        arr.push("html");
        arr.push("css");
        for(let item of arr){
          console.log(item);
        }
      }

      //항목 제거 및 추가
      function removeAndInsertItem(){
        //항목 추가
        const arr = ["Banana", "Orange", "Apple", "Mango"];
        arr.splice(2,0,"Lemon","Kiwi"); //2번 index자리에 0개를 삭제하고 "Lemon","Kiwi" 추가
        console.log(arr);

        //항목 제거
        arr.splice(2,2); //2번 인덱스부터 2개의 요소 삭제
        console.log(arr);
      }

      //새로운 배열로 합치기
      function concatArray(){
        const arr4 = ["Cecilie", "Lone"];
        const arr5 = ["Emil", "Tobias", "Linus"];
        const arr = arr4.concat(arr5);
        console.log(arr);
      }

      //필터링 후 새로운 배열 생성
      //array.filter(function(currentValue, index, arr), thisValue)
      function filterItem(){
        const arr1 = [1,2,3,4,5]
        const arr3 = arr1.filter(function(item){
          return item %2===0; //배열이 리턴된다.
        });
        const arr2 = arr1.filter((item)=>(item%2!==0));
        console.log(arr2);  

        const arr4 = [
          {bno:1, title: "제목1", writer:"홍길북"},
          {bno:2, title: "제목2", writer:"홍길서"},
          {bno:3, title: "제목3", writer:"홍길서"},
          {bno:4, title: "제목4", writer:"홍길북"},
        ];

        const arr5 = arr4.filter(function(item){
          return item["writer"] ==="홍길서";
        });
        const arr6 = arr4.filter((item)=>(item["writer"] === "홍길북"));
        console.log(arr6);
      }

      //항목으로 일괄 처리
      //forEach
      function handleEachItem(){
        const arr = [
          {bno:1, title: "제목1", writer:"홍길북"},
          {bno:2, title: "제목2", writer:"홍길서"},
          {bno:3, title: "제목3", writer:"홍길서"},
          {bno:4, title: "제목4", writer:"홍길북"},
        ];

        for(let i=0; i<arr.length; i++){
          console.log(arr[i]);
        };

        for(let board of arr){
          console.log(board);
        }
        console.log("");
        arr.forEach(item => {
          for(let fieldName in item){
            console.log(`${fieldName}: `, item[fieldName]);
          }
        });
      }
      
      //항목을 다른 항목으로 매핑한 배열 생성
      //array.map()
      function mapItem(){
        const arr1 = [1,2,3,4,5];
        const arr2 = arr1.map(item => item*10);
        console.log(arr2);
        const arr3 = [
          {bno:1, title: "제목1", writer:"홍길북"},
          {bno:2, title: "제목2", writer:"홍길서"},
          {bno:3, title: "제목3", writer:"홍길서"},
          {bno:4, title: "제목4", writer:"홍길북"},
        ];
        const arr4 = arr3.map(item => item.title);
        console.log(arr4);
        const arr5 = arr3.map(item => ({...item, writer:"홍길동", date:new Date().toLocaleDateString()}));
        console.log(arr5);
      }

      //정렬
      //array.sort(compareFunction) <<매개변수에 정렬 조건이 있는 함수를 받음.
      function sortItem(){
        const arr = ["Banana", "Orange", "Apple", "Mango"];
        arr.sort(); //하나의 값으로 이루어진 배열의 경우 정렬 조건을 매개변수에 명시해 주지 않아도 된다.
        console.log(arr);
        arr.reverse();
        console.log(arr); //reverse는 현재 상태에서 거꾸로 바꿔주기 때문에 내림차순으로 바꿔주고 싶으면 sort를 먼저 해주어야 한다.

        const arr2 = [
        {bno:2, title:"제목2", writer:"홍길서"},
        {bno:5, title:"제목5", writer:"홍길북"},
        {bno:3, title:"제목3", writer:"홍길남"},
        {bno:1, title:"제목1", writer:"홍길동"},
        {bno:4, title:"제목4", writer:"홍길서"},
        ];

        //오름차순
        arr2.sort((item1, item2) => item1.bno-item2.bno);
        console.log(arr2);

        //내림차순
        arr2.sort((item1, item2) => item2.bno-item1.bno);
        console.log(arr2);
      }
    </script>
  </head>
  <body>
    <div class="card">
      <div class="card-header">.Array 배열</div>
      <div class="card-body">
        <button onclick="basic()" class="btn btn-sm mb-2 btn-danger">기본</button>
        <button onclick="appendItem()" class="btn btn-sm mb-2 btn-danger">새로운 항목 추가</button>
        <button onclick="removeAndInsertItem()" class="btn btn-sm mb-2 btn-danger">항목 제거 및 추가</button>
        <button onclick="concatArray()" class="btn btn-info btn-sm mb-2">새로운 배열로 합치기</button><br /><!--concat : 합치다. -->
        <button onclick="filterItem()" class="btn btn-info btn-sm mb-2">필터링 후 새로운 배열 생성</button><br />
        <button onclick="findItem()" class="btn btn-info btn-sm mb-2">항목 찾기</button><br />
        <button onclick="handleEachItem()" class="btn btn-info btn-sm mb-2">항목 일괄 처리</button><br />
        <button onclick="mapItem()" class="btn btn-info btn-sm mb-2">항목을 다른 항목으로 매핑한 배열 생성</button><br />
        <button onclick="sortItem()" class="btn btn-info btn-sm mb-2">항목 정렬</button><br />
      </div>
    </div>
  </body>
</html>
