<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" ></script> <!-- 먼저 작성 되어야 한다. 위에서 아래로 실행되기 때문에 jquery가 먼저 로딩되어 있어야 한다. -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" ></script>

    <script>
        //객체 생성
        const board = {
            title: "오늘은 화요일",
            content: "오늘은 과제를 열심히 하겠어요. 일찍 가지 않겠어요.",
            writer: "감자바"
        }

        //구조 분해 할당(대입)
        var { title } = board;  //객체 안에 있는 일부 필드만 가져온다. let은 local변수 이기 때문에 같은 필드가 들어가 있는 중괄호를 사용하면 안된다.?
        console.log("title: "+title);

        var {title, writer} = board; //board를 구조분해 해서 title, writer 만 저장
        console.log("title: "+ title);
        console.log("writer: "+writer);

        //함수 선언
        function fun1({title}){
            console.log("title: "+title);
        }

        fun1(board); //board객체의 title만 전달 (title을 포함하는 객체 전달)

        //구조 분해 할당2
        const member = {
            mid: "summer",
            name: "한여름",
            age: 30
        }

        var{mid, ...rest} = member; //mid를 제외한 것들을 모아서 객체 형태로 rest 이름에 저장
        console.log("mid: " + mid);
        console.log(rest);


        //react에서 중요한 역활
        function addBno(obj){
            obj.bno = 5;
            return obj;
        }

        var newBoard1 = addBno(board);       //현재 board에는 bno가 없다.
        console.log(board === newBoard1);    //객체의 번지는 바뀌지 않는다. 즉, board랑 newBoard가 참조하는 번지는 같다.
        console.log(newBoard1);


        //기존 객체에 새로운 멤버를 추가해서 새 객체를 생성
        function addBno(...obj){
            return {...obj, bno:5} //객체 기호 사용 -> 새로운 객체 생성
        }

        var newBoard2 = addBno(board);       //현재 board에는 bno가 없다.
        console.log(board === newBoard2);    //객체의 번지는 바뀌지 않는다. 즉, board랑 newBoard가 참조하는 번지는 같다.
        console.log(board);
        console.log(newBoard2);
        console.log("---------------------------------------------------------");
    

        //기존 객체에 새로운 멤버를 추가해서 새 객체를 생성
        function addBno(...obj){
        return {...obj, bno:5, title:"새 제목"} //원래 있던 내용은 바꿔치기 된다.                                           
        }

        var newBoard3 = addBno(board);       //현재 board에는 bno가 없다.
        console.log(board === newBoard3);    //객체의 번지는 바뀌지 않는다. 즉, board랑 newBoard가 참조하는 번지는 같다.
        console.log(board);
        console.log(newBoard3);
        console.log("---------------------------------------------------------");

        //기존 객체에 새로운 멤버를 추가해서 새 객체를 생성
        function addBno(...obj){
        return {...obj, bno:5, title:"새 제목"} //객체 기호 사용 -> 새로운 객체 생성
        }

        var newBoard3 = addBno(board);       //현재 board에는 bno가 없다.
        console.log(board === newBoard3);    //객체의 번지는 바뀌지 않는다. 즉, board랑 newBoard가 참조하는 번지는 같다.
        console.log(board);
        console.log({...board, bno:5, title:"새 제목2"});   //새로운 객체 생성

        let addEmail = (m) => ({...m, eamil:m.mid+"@myCompany.com"});  //화살표 함수 이용
        let newMember = addEmail(member);
        console.log(member);
        console.log(newMember); //새로운 객체 생성

    </script>
</head>
<body>
    <div class="card">
        <div class="card-header">
            Object Destructuring Assignmnet(객체 구조 분해 할당)
        </div>
        
        <div class="card-body">
        </div>
    </div>
</body>
</html>